# üéØ **PR√âSENTATION ECORIDE - EXAMEN ECF (35 MINUTES)**

*Script complet pour soutenance projet covoiturage √©cologique*  
*Date : 9 octobre 2025 | Candidat : Touchard Cyril*

---

## ‚è±Ô∏è **PLANNING CHRONOM√âTR√â (35 MINUTES)**

### **1. INTRODUCTION & CONTEXTE** *(5 minutes)*
- Pr√©sentation personnelle et projet
- Objectifs et enjeux du covoiturage √©cologique
- Vision technique et innovation

### **2. D√âMONSTRATION UTILISATEUR** *(8 minutes)*
- Parcours d'inscription et connexion
- Recherche et r√©servation de trajets
- Gestion du profil et v√©hicules

### **3. ARCHITECTURE TECHNIQUE** *(12 minutes)*
- Stack technologique et justifications
- Base de donn√©es hybride MySQL + MongoDB
- S√©curit√© et authentification JWT
- Architecture API REST

### **4. D√âVELOPPEMENT & CRUD** *(8 minutes)*
- Op√©rations CRUD d√©taill√©es
- Gestion d'√©tat et validation
- Code review des fonctionnalit√©s cl√©s

### **5. QUALIT√â & PERSPECTIVES** *(2 minutes)*
- Tests et documentation
- √âvolutions futures et am√©liorations

---

## üöÄ **1. INTRODUCTION & CONTEXTE** *(5 minutes)*

### **Accroche d'Ouverture** *(1 minute)*
*"Bonjour, je suis Cyril Touchard et je vais vous pr√©senter EcoRide, une plateforme de covoiturage qui r√©pond aux enjeux actuels de mobilit√© durable. En 35 minutes, je vais vous d√©montrer comment cette application full-stack allie innovation technique et impact √©cologique."*

### **Probl√©matique & Solution** *(2 minutes)*

**üåç CONTEXTE ENVIRONNEMENTAL**
- Transport = 31% des √©missions CO2 en France
- 1 trajet sur 2 effectu√© seul en voiture
- Besoin urgent de solutions de mobilit√© partag√©e

**üí° SOLUTION ECORIDE**
- Plateforme web moderne de covoiturage
- Interface intuitive et responsive
- Syst√®me de cr√©dits gamifi√© (20 cr√©dits offerts)
- Focus sur l'impact √©cologique et l'√©conomie

### **Objectifs Techniques** *(2 minutes)*

**üéØ D√âFIS TECHNIQUES RELEV√âS**
- **S√©curit√©** : Authentification JWT + chiffrement bcrypt
- **Performance** : Architecture hybride base de donn√©es
- **√âvolutivit√©** : API REST modulaire et maintenable
- **Exp√©rience** : Interface responsive mobile-first

**üìä CHIFFRES CL√âS**
- 15+ pages fonctionnelles
- 4 entit√©s CRUD compl√®tes (Users, Vehicles, Rides, Reviews)
- 20+ endpoints API s√©curis√©s
- Support multi-dispositifs (desktop, tablette, mobile)

---

## üë• **2. D√âMONSTRATION UTILISATEUR** *(8 minutes)*

### **Parcours d'Inscription** *(2 minutes)*

**üîó D√âMONSTRATION LIVE**
1. **Page d'accueil** ‚Üí Navigation vers inscription
   - Design moderne et professionnel
   - Call-to-action clair "Rejoindre EcoRide"
   
2. **Formulaire d'inscription** ‚Üí Validation en temps r√©el
   ```javascript
   // Validation c√¥t√© client
   function validateEmail(email) {
       const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
       return re.test(email);
   }
   ```
   - Contr√¥les de saisie interactifs
   - Messages d'erreur contextuels
   - 20 cr√©dits offerts automatiquement

### **Connexion & Tableau de Bord** *(2 minutes)*

**üîê AUTHENTIFICATION S√âCURIS√âE**
```javascript
// JWT Token Management
const token = localStorage.getItem('ecoride_token');
fetch('/api/user/profile', {
    headers: { 'Authorization': `Bearer ${token}` }
});
```

**üìä DASHBOARD PERSONNEL**
- Solde de cr√©dits en temps r√©el
- Historique des trajets (propos√©s/r√©serv√©s)
- Statistiques personnelles d'impact √©cologique
- Navigation contextuelle selon le statut utilisateur

### **Gestion des V√©hicules** *(2 minutes)*

**üöó CRUD V√âHICULES COMPLET**
1. **Ajout de v√©hicule** ‚Üí Interface modale moderne
   - Types d'√©nergie (Essence, Diesel, √âlectrique, Hybride, GPL)
   - Validation des donn√©es c√¥t√© client/serveur
   
2. **Modification/Suppression** ‚Üí Actions en temps r√©el
   ```javascript
   // Update v√©hicule avec gestion d'erreurs
   async function updateVehicle(vehicleData) {
       try {
           const response = await fetch(`/api/vehicles/${vehicleId}`, {
               method: 'PUT',
               headers: { 'Content-Type': 'application/json' },
               body: JSON.stringify(vehicleData)
           });
           return await response.json();
       } catch (error) {
           console.error('Erreur mise √† jour v√©hicule:', error);
       }
   }
   ```

### **Recherche & R√©servation** *(2 minutes)*

**üîç MOTEUR DE RECHERCHE AVANC√â**
- Recherche par ville de d√©part/arriv√©e
- Filtrage par date et crit√®res √©cologiques
- Affichage temps r√©el des places disponibles

**üé´ SYST√àME DE R√âSERVATION**
- Validation en temps r√©el des cr√©dits
- Gestion automatique des places
- Confirmation instantan√©e par notification

---

## üèóÔ∏è **3. ARCHITECTURE TECHNIQUE** *(12 minutes)*

### **Stack Technologique** *(3 minutes)*

**üìã JUSTIFICATIONS TECHNIQUES**

| Composant | Technologie | Justification |
|-----------|-------------|---------------|
| **Frontend** | HTML5/CSS3/JS | Performance, compatibilit√©, maintenance |
| **Backend** | Node.js/Express | √âcosyst√®me riche, performance, JavaScript full-stack |
| **Base de Donn√©es** | MongoDB + MySQL | Flexibilit√© NoSQL + Int√©grit√© relationnelle |
| **Authentification** | JWT | Stateless, scalable, s√©curis√© |
| **S√©curit√©** | bcrypt + Helmet | Chiffrement robuste + Protection headers |

**üé® DESIGN SYSTEM**
```css
/* Charte graphique coh√©rente */
:root {
    --primary-color: #2e8b57;    /* Vert EcoRide */
    --secondary-color: #4682b4;  /* Bleu confiance */
    --accent-color: #ffa500;     /* Orange action */
    --text-primary: #333;
    --bg-gradient: linear-gradient(135deg, #2e8b57, #4682b4);
}
```

### **Base de Donn√©es Hybride** *(4 minutes)*

**üîÑ ARCHITECTURE HYBRIDE : POURQUOI ?**

**MongoDB (NoSQL) ‚Üí Donn√©es Flexibles**
```javascript
// Sch√©ma Utilisateur avec historique √©volutif
const userSchema = new mongoose.Schema({
    email: { type: String, required: true, unique: true },
    profile: {
        firstName: String,
        lastName: String,
        phone: String,
        profilePicture: String
    },
    preferences: {
        smokingAllowed: Boolean,
        petsAllowed: Boolean,
        musicPreference: String
    },
    history: [{
        action: String,
        timestamp: Date,
        details: mongoose.Schema.Types.Mixed
    }]
});
```

**MySQL (SQL) ‚Üí Donn√©es Transactionnelles**
```sql
-- Table cr√©dits avec int√©grit√© ACID
CREATE TABLE credits_transactions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(255) NOT NULL,
    amount DECIMAL(10,2) NOT NULL,
    type ENUM('earning', 'spending') NOT NULL,
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_user_id (user_id),
    INDEX idx_created_at (created_at)
);
```

**‚ö° AVANTAGES COMBIN√âS**
- MongoDB : √âvolutivit√© sch√©mas, performance lectures massives
- MySQL : Transactions ACID, int√©grit√© r√©f√©rentielle, analytique

### **S√©curit√© Multi-Niveaux** *(3 minutes)*

**üõ°Ô∏è LAYERS DE S√âCURIT√â**

**1. Authentification JWT**
```javascript
const jwt = require('jsonwebtoken');

// G√©n√©ration token avec expiration
const generateToken = (userId) => {
    return jwt.sign(
        { userId, timestamp: Date.now() },
        process.env.JWT_SECRET,
        { expiresIn: '24h' }
    );
};

// Middleware validation
const authenticateToken = (req, res, next) => {
    const authHeader = req.headers['authorization'];
    const token = authHeader && authHeader.split(' ')[1];
    
    if (!token) return res.sendStatus(401);
    
    jwt.verify(token, process.env.JWT_SECRET, (err, user) => {
        if (err) return res.sendStatus(403);
        req.user = user;
        next();
    });
};
```

**2. Chiffrement Passwords**
```javascript
const bcrypt = require('bcryptjs');

// Hash avec salt rounds optimis√©
const hashPassword = async (password) => {
    const saltRounds = 12; // √âquilibre s√©curit√©/performance
    return await bcrypt.hash(password, saltRounds);
};
```

**3. Protection Headers & Rate Limiting**
```javascript
// Configuration Helmet s√©curit√©
app.use(helmet({
    contentSecurityPolicy: {
        directives: {
            defaultSrc: ["'self'"],
            scriptSrc: ["'self'", "'unsafe-inline'", "cdnjs.cloudflare.com"],
            styleSrc: ["'self'", "'unsafe-inline'", "fonts.googleapis.com"]
        }
    }
}));

// Rate limiting par IP
const limiter = rateLimit({
    windowMs: 15 * 60 * 1000, // 15 minutes
    max: 100, // limite 100 requ√™tes par IP
    message: "Trop de requ√™tes, r√©essayez plus tard"
});
```

### **API REST Architecture** *(2 minutes)*

**üîó ENDPOINTS STRUCTUR√âS**

```javascript
// Structure modulaire des routes
app.use('/api/users', authenticateToken, userRoutes);
app.use('/api/vehicles', authenticateToken, vehicleRoutes);
app.use('/api/rides', authenticateToken, rideRoutes);
app.use('/api/reviews', authenticateToken, reviewRoutes);

// Contr√¥leur avec gestion d'erreurs
const getUserProfile = async (req, res) => {
    try {
        const user = await User.findById(req.user.userId);
        if (!user) {
            return res.status(404).json({ 
                success: false, 
                message: 'Utilisateur non trouv√©' 
            });
        }
        
        res.json({
            success: true,
            data: {
                id: user._id,
                email: user.email,
                profile: user.profile,
                credits: user.credits
            }
        });
    } catch (error) {
        res.status(500).json({ 
            success: false, 
            message: 'Erreur serveur' 
        });
    }
};
```

---

## üíª **4. D√âVELOPPEMENT & CRUD** *(8 minutes)*

### **Op√©rations CRUD Compl√®tes** *(4 minutes)*

**üöó CRUD V√âHICULES (US8)**

**CREATE - Ajout v√©hicule**
```javascript
// Frontend - Validation avant envoi
const addVehicle = async (vehicleData) => {
    // Validation c√¥t√© client
    if (!vehicleData.brand || !vehicleData.model) {
        throw new Error('Marque et mod√®le requis');
    }
    
    const response = await fetch('/api/vehicles', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${localStorage.getItem('ecoride_token')}`
        },
        body: JSON.stringify(vehicleData)
    });
    
    return await response.json();
};

// Backend - Contr√¥leur avec validation
const createVehicle = async (req, res) => {
    try {
        // Validation express-validator
        const errors = validationResult(req);
        if (!errors.isEmpty()) {
            return res.status(400).json({ errors: errors.array() });
        }
        
        // Cr√©ation v√©hicule MongoDB
        const vehicle = new Vehicle({
            ...req.body,
            userId: req.user.userId,
            createdAt: new Date()
        });
        
        await vehicle.save();
        
        res.status(201).json({
            success: true,
            data: vehicle,
            message: 'V√©hicule ajout√© avec succ√®s'
        });
    } catch (error) {
        res.status(500).json({ 
            success: false, 
            message: 'Erreur lors de la cr√©ation' 
        });
    }
};
```

**READ - R√©cup√©ration avec filtres**
```javascript
// Recherche avanc√©e avec pagination
const getVehicles = async (req, res) => {
    const { page = 1, limit = 10, energyType, brand } = req.query;
    
    // Construction query dynamique
    let filter = { userId: req.user.userId };
    if (energyType) filter.energyType = energyType;
    if (brand) filter.brand = new RegExp(brand, 'i');
    
    const vehicles = await Vehicle.find(filter)
        .limit(limit * 1)
        .skip((page - 1) * limit)
        .sort({ createdAt: -1 });
        
    const total = await Vehicle.countDocuments(filter);
    
    res.json({
        success: true,
        data: vehicles,
        pagination: {
            current: page,
            total: Math.ceil(total / limit),
            count: vehicles.length
        }
    });
};
```

**üõ£Ô∏è CRUD TRAJETS (US9)**

**CREATE - Proposition trajet complexe**
```javascript
const createRide = async (req, res) => {
    try {
        const { departure, destination, date, price, seats, vehicleId } = req.body;
        
        // Validation v√©hicule appartient √† l'utilisateur
        const vehicle = await Vehicle.findOne({
            _id: vehicleId,
            userId: req.user.userId
        });
        
        if (!vehicle) {
            return res.status(400).json({
                success: false,
                message: 'V√©hicule non trouv√© ou non autoris√©'
            });
        }
        
        // Cr√©ation trajet avec calcul distance
        const ride = new Ride({
            driverId: req.user.userId,
            departure: {
                city: departure.city,
                coordinates: departure.coordinates
            },
            destination: {
                city: destination.city,
                coordinates: destination.coordinates
            },
            date: new Date(date),
            price: parseFloat(price),
            totalSeats: parseInt(seats),
            availableSeats: parseInt(seats),
            vehicleId: vehicle._id,
            status: 'active'
        });
        
        await ride.save();
        
        res.status(201).json({
            success: true,
            data: ride,
            message: 'Trajet propos√© avec succ√®s'
        });
    } catch (error) {
        res.status(500).json({
            success: false,
            message: 'Erreur lors de la cr√©ation du trajet'
        });
    }
};
```

### **Gestion d'√âtat Avanc√©e** *(2 minutes)*

**üîÑ STATE MANAGEMENT CLIENT**

```javascript
// Gestionnaire d'√©tat global application
class EcoRideState {
    constructor() {
        this.user = null;
        this.isAuthenticated = false;
        this.vehicles = [];
        this.rides = [];
        this.notifications = [];
    }
    
    // Mise √† jour √©tat utilisateur
    setUser(userData) {
        this.user = userData;
        this.isAuthenticated = true;
        this.updateUI();
        this.saveToLocalStorage();
    }
    
    // Synchronisation avec localStorage
    saveToLocalStorage() {
        localStorage.setItem('ecoride_state', JSON.stringify({
            user: this.user,
            isAuthenticated: this.isAuthenticated
        }));
    }
    
    // Restauration √©tat au chargement
    restoreFromLocalStorage() {
        const saved = localStorage.getItem('ecoride_state');
        if (saved) {
            const state = JSON.parse(saved);
            this.user = state.user;
            this.isAuthenticated = state.isAuthenticated;
        }
    }
    
    // Mise √† jour interface selon √©tat
    updateUI() {
        const isLoggedIn = this.isAuthenticated;
        
        // Navigation conditionnelle
        document.getElementById('nav-login').style.display = 
            isLoggedIn ? 'none' : 'block';
        document.getElementById('nav-profile').style.display = 
            isLoggedIn ? 'block' : 'none';
            
        // Contenu personnalis√©
        if (isLoggedIn && this.user) {
            document.getElementById('user-credits').textContent = 
                `${this.user.credits} cr√©dits`;
        }
    }
}

// Instance globale
const appState = new EcoRideState();
```

### **Validation & S√©curit√©** *(2 minutes)*

**‚úÖ VALIDATION MULTI-NIVEAUX**

```javascript
// Validation c√¥t√© serveur avec express-validator
const { body, validationResult } = require('express-validator');

const vehicleValidationRules = () => {
    return [
        body('brand')
            .isLength({ min: 2, max: 50 })
            .withMessage('Marque entre 2 et 50 caract√®res')
            .matches(/^[a-zA-Z√Ä-√ø\s-]+$/)
            .withMessage('Marque contient des caract√®res invalides'),
            
        body('model')
            .isLength({ min: 1, max: 50 })
            .withMessage('Mod√®le entre 1 et 50 caract√®res'),
            
        body('year')
            .isInt({ min: 1900, max: new Date().getFullYear() + 1 })
            .withMessage('Ann√©e invalide'),
            
        body('energyType')
            .isIn(['essence', 'diesel', 'electrique', 'hybride', 'gpl'])
            .withMessage('Type d\'√©nergie invalide'),
            
        body('seats')
            .isInt({ min: 1, max: 9 })
            .withMessage('Nombre de places entre 1 et 9')
    ];
};

// Middleware de validation
const validate = (req, res, next) => {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
        return res.status(400).json({
            success: false,
            errors: errors.array(),
            message: 'Donn√©es invalides'
        });
    }
    next();
};

// Utilisation dans les routes
app.post('/api/vehicles', 
    authenticateToken, 
    vehicleValidationRules(), 
    validate, 
    createVehicle
);
```

---

## üî¨ **5. QUALIT√â & PERSPECTIVES** *(2 minutes)*

### **Documentation & Tests** *(30 secondes)*

**üìö DOCUMENTATION COMPL√àTE**
- Documentation technique de 1000+ lignes
- Guide CRUD d√©taill√© avec exemples
- Manuel utilisateur interactif
- Diagrammes UML et architecture
- **üê≥ Nouveau** : Guide Docker complet avec containerisation

**üß™ STRAT√âGIE DE TESTS**
```javascript
// Tests unitaires exemple
describe('Vehicle Controller', () => {
    test('should create vehicle with valid data', async () => {
        const vehicleData = {
            brand: 'Toyota',
            model: 'Prius',
            year: 2022,
            energyType: 'hybride',
            seats: 5
        };
        
        const response = await request(app)
            .post('/api/vehicles')
            .set('Authorization', `Bearer ${validToken}`)
            .send(vehicleData)
            .expect(201);
            
        expect(response.body.success).toBe(true);
        expect(response.body.data.brand).toBe('Toyota');
    });
});
```

### **√âvolutions Futures** *(1 minute)*

**üöÄ ROADMAP TECHNIQUE**
- **üê≥ Docker Production** : Containerisation compl√®te d√©j√† impl√©ment√©e
- **‚òÅÔ∏è Cloud Native** : D√©ploiement Azure Container Apps
- **‚ö° Temps r√©el** : WebSocket pour notifications instantan√©es
- **üì± Mobile** : Progressive Web App (PWA) avec cache offline
- **ü§ñ AI** : Recommandations de trajets avec machine learning
- **üìä Scale** : Microservices et orchestration Kubernetes

**üå± IMPACT √âCOLOGIQUE**
- Calcul empreinte carbone √©conomis√©e
- Gamification avec badges √©cologiques
- Partenariats avec collectivit√©s locales
- Int√©gration transports en commun

---

## üéØ **CONCLUSION & QUESTIONS**

**üìä BILAN TECHNIQUE**
- ‚úÖ Application full-stack fonctionnelle et s√©curis√©e
- ‚úÖ Architecture moderne et √©volutive
- ‚úÖ CRUD complets avec validation robuste
- ‚úÖ Interface responsive et accessible
- ‚úÖ Documentation professionnelle compl√®te

**üí° VALEUR AJOUT√âE**
- Solution technique innovante aux enjeux de mobilit√©
- Code maintenable et professionnel
- S√©curit√© et performance optimis√©es
- Impact √©cologique positif d√©montrable

*"Je vous remercie pour votre attention et reste √† votre disposition pour vos questions."*

---

## üìã **ANNEXES TECHNIQUES**

### **Checklist D√©monstration**
- [ ] Terminal et serveur pr√™ts
- [ ] Base de donn√©es initialis√©e avec donn√©es test
- [ ] Navigation entre toutes les pages
- [ ] Fonctionnalit√©s CRUD test√©es
- [ ] Code review pr√©par√©
- [ ] Documentation accessible

### **Points d'Attention Jury**
- Justification choix techniques
- S√©curit√© et gestion d'erreurs
- Code quality et bonnes pratiques
- Scalabilit√© et maintenance
- Impact business et utilisateur

### **Backup Slides**
- Diagrammes UML d√©taill√©s
- Code source comment√©
- Tests et m√©triques performance
- Comparaison solutions alternatives