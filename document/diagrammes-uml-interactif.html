<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagrammes UML EcoRide - Visualisation Interactive</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #27ae60 0%, #3498db 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }
        
        .header p {
            margin: 0.5rem 0 0 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            overflow-x: auto;
        }
        
        .nav-tab {
            padding: 1rem 2rem;
            cursor: pointer;
            border: none;
            background: transparent;
            font-size: 1rem;
            font-weight: 500;
            color: #6c757d;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
            color: #27ae60;
        }
        
        .nav-tab.active {
            background: #27ae60;
            color: white;
            border-bottom: 3px solid #229954;
        }
        
        .tab-content {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .diagram-container {
            margin: 2rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }
        
        .diagram-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #27ae60;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .mermaid {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .description {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #3498db;
        }
        
        .actors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .actor-card {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid #27ae60;
        }
        
        .actor-title {
            font-weight: 600;
            color: #27ae60;
            margin-bottom: 0.5rem;
        }
        
        .use-cases {
            list-style: none;
            padding: 0;
        }
        
        .use-cases li {
            padding: 0.25rem 0;
            color: #6c757d;
        }
        
        .use-cases li:before {
            content: "‚úì ";
            color: #28a745;
            font-weight: bold;
        }
        
        .legend {
            background: #fff3cd;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 1rem 0;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .tech-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .tech-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .footer {
            background: #343a40;
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .export-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            margin: 0.5rem;
            font-weight: 500;
            transition: background 0.3s ease;
        }
        
        .export-btn:hover {
            background: #229954;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-tabs {
                flex-wrap: nowrap;
                overflow-x: scroll;
            }
            
            .tab-content {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Diagrammes UML EcoRide</h1>
            <p>Analyse Compl√®te du Syst√®me - Version Interactive 2025</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('overview')">üéØ Vue d'Ensemble</button>
            <button class="nav-tab" onclick="showTab('usecase')">üë• Cas d'Utilisation</button>
            <button class="nav-tab" onclick="showTab('sequence')">üîÑ S√©quences</button>
            <button class="nav-tab" onclick="showTab('database')">üóÉÔ∏è Base de Donn√©es</button>
            <button class="nav-tab" onclick="showTab('classes')">üèóÔ∏è Classes</button>
            <button class="nav-tab" onclick="showTab('architecture')">üèõÔ∏è Architecture</button>
            <button class="nav-tab" onclick="showTab('deployment')">üöÄ D√©ploiement</button>
        </div>
        
        <!-- Onglet Vue d'Ensemble -->
        <div id="overview" class="tab-content active">
            <h2>üéØ Vue d'Ensemble du Syst√®me EcoRide</h2>
            
            <div class="description">
                <strong>EcoRide</strong> est une plateforme de covoiturage √©cologique qui connecte chauffeurs et passagers 
                pour des trajets partag√©s. Le syst√®me utilise une architecture moderne avec Node.js, MongoDB/MySQL, et une interface web responsive.
            </div>
            
            <div class="diagram-container">
                <div class="diagram-title">üèóÔ∏è Architecture G√©n√©rale du Syst√®me</div>
                <div class="mermaid">
                graph TB
                    subgraph "Frontend"
                        UI[üåê Interface Web]
                        JS[üì± JavaScript SPA]
                    end
                    
                    subgraph "Backend API"
                        API[‚öôÔ∏è Express.js API]
                        AUTH[üîê JWT Auth]
                        VALID[‚úÖ Validation]
                    end
                    
                    subgraph "Base de Donn√©es"
                        MONGO[(üçÉ MongoDB)]
                        MYSQL[(üê¨ MySQL)]
                    end
                    
                    UI --> API
                    JS --> API
                    API --> AUTH
                    AUTH --> VALID
                    API --> MONGO
                    API --> MYSQL
                    
                    style UI fill:#e3f2fd
                    style API fill:#e8f5e8
                    style MONGO fill:#fff3e0
                </div>
            </div>
            
            <div class="tech-stack">
                <div class="tech-item">
                    <div class="tech-icon">üåê</div>
                    <h4>Frontend</h4>
                    <p>HTML5, CSS3, JavaScript ES6+</p>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">‚öôÔ∏è</div>
                    <h4>Backend</h4>
                    <p>Node.js, Express.js, JWT</p>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üóÉÔ∏è</div>
                    <h4>Bases de Donn√©es</h4>
                    <p>MongoDB, MySQL</p>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üîí</div>
                    <h4>S√©curit√©</h4>
                    <p>bcrypt, Helmet, CORS</p>
                </div>
            </div>
        </div>
        
        <!-- Onglet Cas d'Utilisation -->
        <div id="usecase" class="tab-content">
            <h2>üë• Diagrammes de Cas d'Utilisation</h2>
            
            <div class="actors-grid">
                <div class="actor-card">
                    <div class="actor-title">üë§ Visiteur</div>
                    <ul class="use-cases">
                        <li>Consulter la page d'accueil</li>
                        <li>Rechercher un covoiturage</li>
                        <li>Voir d√©tails d'un trajet</li>
                        <li>S'inscrire</li>
                        <li>Se connecter</li>
                    </ul>
                </div>
                
                <div class="actor-card">
                    <div class="actor-title">üöó Utilisateur</div>
                    <ul class="use-cases">
                        <li>G√©rer son profil</li>
                        <li>Consulter historique</li>
                        <li>Laisser des avis</li>
                        <li>G√©rer ses cr√©dits</li>
                    </ul>
                </div>
                
                <div class="actor-card">
                    <div class="actor-title">üöô Chauffeur</div>
                    <ul class="use-cases">
                        <li>G√©rer ses v√©hicules</li>
                        <li>Proposer un trajet</li>
                        <li>G√©rer ses trajets</li>
                        <li>D√©marrer/Terminer trajet</li>
                    </ul>
                </div>
                
                <div class="actor-card">
                    <div class="actor-title">üß≥ Passager</div>
                    <ul class="use-cases">
                        <li>R√©server une place</li>
                        <li>Annuler r√©servation</li>
                        <li>√âvaluer chauffeur</li>
                        <li>Suivre trajet</li>
                    </ul>
                </div>
                
                <div class="actor-card">
                    <div class="actor-title">üëî Employ√©</div>
                    <ul class="use-cases">
                        <li>Mod√©rer les avis</li>
                        <li>Consulter litiges</li>
                        <li>Valider/Refuser avis</li>
                    </ul>
                </div>
                
                <div class="actor-card">
                    <div class="actor-title">üë®‚Äçüíº Administrateur</div>
                    <ul class="use-cases">
                        <li>G√©rer employ√©s</li>
                        <li>Suspendre utilisateurs</li>
                        <li>Consulter statistiques</li>
                        <li>Configuration syst√®me</li>
                    </ul>
                </div>
            </div>
            
            <div class="diagram-container">
                <div class="diagram-title">üéØ Diagramme Principal des Cas d'Utilisation</div>
                <div class="mermaid">
graph TB
    V[üë§ Visiteur] 
    U[üöó Utilisateur]
    P[üß≥ Passager]
    C[üöô Chauffeur]
    E[üëî Employ√©]
    A[üë®‚Äçüíº Admin]
    
    subgraph "Syst√®me EcoRide"
        UC1[Consulter accueil]
        UC2[Rechercher trajet]
        UC3[S'inscrire/Connecter]
        UC4[G√©rer profil]
        UC5[G√©rer v√©hicules]
        UC6[Proposer trajet]
        UC7[R√©server place]
        UC8[Mod√©rer avis]
        UC9[G√©rer syst√®me]
    end
    
    V --> UC1
    V --> UC2
    V --> UC3
    
    U --> UC4
    
    C --> UC5
    C --> UC6
    
    P --> UC7
    
    E --> UC8
    
    A --> UC9
    
    style V fill:#e3f2fd
    style U fill:#f3e5f5
    style C fill:#e8f5e8
    style P fill:#fff3e0
    style E fill:#fce4ec
    style A fill:#f1f8e9
                </div>
            </div>
        </div>
        
        <!-- Onglet S√©quences -->
        <div id="sequence" class="tab-content">
            <h2>üîÑ Diagrammes de S√©quence</h2>
            
            <div class="diagram-container">
                <div class="diagram-title">üìù S√©quence d'Inscription</div>
                <div class="mermaid">
sequenceDiagram
    participant U as üë§ Utilisateur
    participant F as üåê Frontend
    participant S as ‚öôÔ∏è Backend
    participant DB as üíæ MongoDB
    
    U->>F: Remplit formulaire
    F->>F: Validation client
    F->>S: POST /api/users/register
    S->>S: Validation serveur
    S->>DB: V√©rif unicit√© email
    
    alt Email existe
        DB-->>S: Conflit
        S-->>F: 400 Error
        F-->>U: Message erreur
    else Email unique
        S->>S: Hash password
        S->>DB: Cr√©er utilisateur
        DB-->>S: Utilisateur cr√©√©
        S->>S: G√©n√©rer JWT
        S-->>F: 201 + token
        F-->>U: Redirection
    end
                </div>
            </div>
            
            <div class="diagram-container">
                <div class="diagram-title">üîê S√©quence de Connexion</div>
                <div class="mermaid">
sequenceDiagram
    participant U as üë§ Utilisateur
    participant F as üåê Frontend
    participant S as ‚öôÔ∏è Backend
    participant DB as üíæ MongoDB
    
    U->>F: Email + Password
    F->>S: POST /api/users/login
    S->>DB: Recherche utilisateur
    
    alt Utilisateur trouv√©
        DB-->>S: Donn√©es user
        S->>S: V√©rif password
        
        alt Password correct
            S->>S: G√©n√©rer JWT
            S-->>F: 200 + token + profil
            F->>F: Stock token localStorage
            F-->>U: Redirection selon r√¥le
        else Password incorrect
            S-->>F: 401 Unauthorized
            F-->>U: "Identifiants incorrects"
        end
    else Utilisateur non trouv√©
        DB-->>S: Aucun r√©sultat
        S-->>F: 401 Unauthorized
        F-->>U: "Identifiants incorrects"
    end
                </div>
            </div>
            
            <div class="diagram-container">
                <div class="diagram-title">üöó S√©quence de R√©servation</div>
                <div class="mermaid">
sequenceDiagram
    participant P as üß≥ Passager
    participant F as üåê Frontend
    participant S as ‚öôÔ∏è Backend
    participant DB as üíæ MongoDB
    
    P->>F: Clic "R√©server"
    F->>S: POST /api/rides/{id}/join + JWT
    S->>S: V√©rif token
    S->>DB: Recherche trajet
    
    alt Trajet trouv√©
        DB-->>S: Donn√©es trajet
        S->>S: V√©rifications:<br/>- Places dispo<br/>- Pas le conducteur<br/>- Pas d√©j√† passager
        
        alt V√©rifications OK
            S->>DB: Update trajet<br/>+ passager<br/>- places dispo
            DB-->>S: Confirmation
            S->>DB: Cr√©er notification
            S-->>F: 200 "R√©servation OK"
            F-->>P: "Succ√®s !"
        else V√©rifications KO
            S-->>F: 400 + raison
            F-->>P: Message erreur
        end
    else Trajet non trouv√©
        DB-->>S: Aucun r√©sultat
        S-->>F: 404 Not Found
        F-->>P: "Trajet introuvable"
    end
                </div>
            </div>
        </div>
        
        <!-- Onglet Base de Donn√©es -->
        <div id="database" class="tab-content">
            <h2>üóÉÔ∏è Mod√®le Conceptuel de Donn√©es</h2>
            
            <div class="diagram-container">
                <div class="diagram-title">üìä Mod√®le Entit√©-Relation (MER)</div>
                <div class="mermaid">
erDiagram
    USER {
        ObjectId _id PK
        string pseudo UK
        string email UK
        string password
        number credits
        string role
        array vehicles FK
        date createdAt
        date updatedAt
    }
    
    VEHICLE {
        ObjectId _id PK
        ObjectId userId FK
        string brand
        string model
        string plate
        string energy
        number seats
        date createdAt
        date updatedAt
    }
    
    RIDE {
        ObjectId _id PK
        ObjectId driver FK
        ObjectId vehicle FK
        string departure
        string arrival
        date departureDate
        string departureTime
        number price
        number totalSeats
        number availableSeats
        string description
        boolean isEcologic
        array stops
        array passengers FK
        string status
        date createdAt
        date updatedAt
    }
    
    REVIEW {
        ObjectId _id PK
        ObjectId rideId FK
        ObjectId driverId FK
        ObjectId authorId FK
        number rating
        string comment
        string status
        date createdAt
        date updatedAt
    }
    
    USER ||--o{ VEHICLE : owns
    USER ||--o{ RIDE : drives
    USER }o--o{ RIDE : passenger_in
    VEHICLE ||--o{ RIDE : used_in
    RIDE ||--o{ REVIEW : generates
    USER ||--o{ REVIEW : writes
                </div>
            </div>
            
            <div class="legend">
                <h4>üîë L√©gende des Relations</h4>
                <ul>
                    <li><strong>||--o{</strong> : Relation un-√†-plusieurs (1:N)</li>
                    <li><strong>}o--o{</strong> : Relation plusieurs-√†-plusieurs (M:N)</li>
                    <li><strong>PK</strong> : Cl√© primaire</li>
                    <li><strong>FK</strong> : Cl√© √©trang√®re</li>
                    <li><strong>UK</strong> : Contrainte d'unicit√©</li>
                </ul>
            </div>
            
            <div class="description">
                <h4>üìù R√®gles de Gestion Principales</h4>
                <ul>
                    <li>Un utilisateur peut poss√©der plusieurs v√©hicules</li>
                    <li>Un chauffeur peut proposer plusieurs trajets</li>
                    <li>Un trajet est associ√© √† un seul v√©hicule</li>
                    <li>Un utilisateur peut √™tre passager de plusieurs trajets</li>
                    <li>Un trajet peut avoir plusieurs avis (un par passager)</li>
                    <li>Les cr√©dits sont g√©r√©s de mani√®re transactionnelle</li>
                </ul>
            </div>
        </div>
        
        <!-- Onglet Classes -->
        <div id="classes" class="tab-content">
            <h2>üèóÔ∏è Diagramme de Classes</h2>
            
            <div class="diagram-container">
                <div class="diagram-title">üìê Classes M√©tier Principales</div>
                <div class="mermaid">
classDiagram
    class User {
        -ObjectId _id
        -string pseudo
        -string email
        -string password
        -number credits
        -string role
        -ObjectId[] vehicles
        
        +register() boolean
        +login() string
        +updateProfile() boolean
        +addVehicle() boolean
        +joinRide() boolean
        +createReview() boolean
    }
    
    class Vehicle {
        -ObjectId _id
        -ObjectId userId
        -string brand
        -string model
        -string plate
        -string energy
        -number seats
        
        +create() boolean
        +update() boolean
        +delete() boolean
        +validate() boolean
    }
    
    class Ride {
        -ObjectId _id
        -ObjectId driver
        -ObjectId vehicle
        -string departure
        -string arrival
        -Date departureDate
        -number price
        -number totalSeats
        -number availableSeats
        -ObjectId[] passengers
        -string status
        
        +create() boolean
        +addPassenger() boolean
        +removePassenger() boolean
        +start() boolean
        +complete() boolean
        +cancel() boolean
    }
    
    class Review {
        -ObjectId _id
        -ObjectId rideId
        -ObjectId driverId
        -ObjectId authorId
        -number rating
        -string comment
        -string status
        
        +create() boolean
        +moderate() boolean
        +approve() boolean
        +reject() boolean
    }
    
    User ||--o{ Vehicle : owns
    User ||--o{ Ride : drives
    User }o--o{ Ride : passenger_in
    Vehicle ||--o{ Ride : used_in
    Ride ||--o{ Review : has
    User ||--o{ Review : writes
                </div>
            </div>
            
            <div class="diagram-container">
                <div class="diagram-title">üéÆ Contr√¥leurs API</div>
                <div class="mermaid">
classDiagram
    class UserController {
        +register(req, res)
        +login(req, res)
        +getProfile(req, res)
        +updateProfile(req, res)
        +getUserHistory(req, res)
    }
    
    class VehicleController {
        +createVehicle(req, res)
        +getUserVehicles(req, res)
        +updateVehicle(req, res)
        +deleteVehicle(req, res)
    }
    
    class RideController {
        +createRide(req, res)
        +searchRides(req, res)
        +getRideDetails(req, res)
        +joinRide(req, res)
        +leaveRide(req, res)
        +updateRideStatus(req, res)
    }
    
    class ReviewController {
        +createReview(req, res)
        +getReviewsByDriver(req, res)
        +moderateReview(req, res)
        +approveReview(req, res)
    }
    
    UserController --> User
    VehicleController --> Vehicle
    RideController --> Ride
    ReviewController --> Review
                </div>
            </div>
        </div>
        
        <!-- Onglet Architecture -->
        <div id="architecture" class="tab-content">
            <h2>üèõÔ∏è Architecture Technique</h2>
            
            <div class="diagram-container">
                <div class="diagram-title">üèóÔ∏è Architecture en Couches</div>
                <div class="mermaid">
graph TD
    subgraph "Couche Pr√©sentation"
        P1[Pages HTML]
        P2[Styles CSS]
        P3[Scripts JavaScript]
        P4[Composants UI]
    end
    
    subgraph "Couche Logique M√©tier"
        L1[Contr√¥leurs API]
        L2[Services M√©tier]
        L3[Validations]
        L4[Authentification]
    end
    
    subgraph "Couche Acc√®s Donn√©es"
        D1[Mod√®les Mongoose]
        D2[Requ√™tes MySQL]
        D3[Cache Redis]
        D4[Transactions]
    end
    
    subgraph "Couche Persistance"
        DB1[(MongoDB)]
        DB2[(MySQL)]
        DB3[(Redis Cache)]
    end
    
    P1 --> L1
    P2 --> L1
    P3 --> L1
    P4 --> L1
    
    L1 --> L2
    L2 --> L3
    L3 --> L4
    
    L2 --> D1
    L2 --> D2
    L2 --> D3
    L2 --> D4
    
    D1 --> DB1
    D2 --> DB2
    D3 --> DB3
    
    style P1 fill:#e3f2fd
    style L1 fill:#e8f5e8
    style D1 fill:#fff3e0
    style DB1 fill:#fce4ec
                </div>
            </div>
            
            <div class="diagram-container">
                <div class="diagram-title">üîÑ Flux de Donn√©es API</div>
                <div class="mermaid">
sequenceDiagram
    participant C as üåê Client
    participant R as üöè Router
    participant M as üõ°Ô∏è Middleware
    participant Ctrl as üéÆ Controller
    participant S as ‚öôÔ∏è Service
    participant DB as üíæ Database
    
    C->>R: HTTP Request
    R->>M: Route Matching
    M->>M: Authentication
    M->>M: Validation
    M->>M: Rate Limiting
    M->>Ctrl: Validated Request
    Ctrl->>S: Business Logic
    S->>DB: Data Operations
    DB-->>S: Data Response
    S-->>Ctrl: Processed Data
    Ctrl-->>M: HTTP Response
    M-->>R: Final Response
    R-->>C: JSON Response
                </div>
            </div>
        </div>
        
        <!-- Onglet D√©ploiement -->
        <div id="deployment" class="tab-content">
            <h2>üöÄ Architecture de D√©ploiement</h2>
            
            <div class="diagram-container">
                <div class="diagram-title">‚òÅÔ∏è Infrastructure Cloud</div>
                <div class="mermaid">
graph TB
    subgraph "Client Tier"
        BROWSER[üåê Navigateur Web]
        MOBILE[üì± App Mobile]
    end
    
    subgraph "Load Balancer"
        LB[‚öñÔ∏è Load Balancer<br/>nginx]
    end
    
    subgraph "Application Tier"
        APP1[üöÄ Node.js Server 1]
        APP2[üöÄ Node.js Server 2]
        APP3[üöÄ Node.js Server 3]
    end
    
    subgraph "Database Tier"
        MONGO_PRIMARY[(üçÉ MongoDB Primary)]
        MONGO_SECONDARY[(üçÉ MongoDB Secondary)]
        MYSQL_PRIMARY[(üê¨ MySQL Primary)]
        REDIS[(üìä Redis Cache)]
    end
    
    subgraph "Monitoring"
        MONITOR[üìä Grafana]
        LOGS[üìã ELK Stack]
    end
    
    BROWSER --> LB
    MOBILE --> LB
    
    LB --> APP1
    LB --> APP2
    LB --> APP3
    
    APP1 --> MONGO_PRIMARY
    APP2 --> MONGO_PRIMARY
    APP3 --> MONGO_PRIMARY
    
    MONGO_PRIMARY --> MONGO_SECONDARY
    
    APP1 --> MYSQL_PRIMARY
    APP2 --> MYSQL_PRIMARY
    APP3 --> MYSQL_PRIMARY
    
    APP1 --> REDIS
    APP2 --> REDIS
    APP3 --> REDIS
    
    APP1 --> MONITOR
    APP2 --> MONITOR
    APP3 --> MONITOR
    
    APP1 --> LOGS
    APP2 --> LOGS
    APP3 --> LOGS
    
    style BROWSER fill:#e3f2fd
    style LB fill:#f3e5f5
    style APP1 fill:#e8f5e8
    style MONGO_PRIMARY fill:#fff3e0
                </div>
            </div>
            
            <div class="diagram-container">
                <div class="diagram-title">üîÑ Pipeline CI/CD</div>
                <div class="mermaid">
graph LR
    DEV[üíª D√©veloppement] --> GIT[üìÅ Git Repository]
    GIT --> CI[üîß CI Pipeline]
    CI --> TEST[üß™ Tests Automatis√©s]
    TEST --> BUILD[üì¶ Build & Package]
    BUILD --> STAGING[üé≠ Environnement Staging]
    STAGING --> VALIDATE[‚úÖ Validation]
    VALIDATE --> PROD[üöÄ Production]
    
    CI --> LINT[üìã Linting]
    CI --> SECURITY[üîí Security Scan]
    
    style DEV fill:#e3f2fd
    style CI fill:#e8f5e8
    style TEST fill:#fff3e0
    style PROD fill:#fce4ec
                </div>
            </div>
            
            <div class="description">
                <h4>üîß Configuration Technique</h4>
                <ul>
                    <li><strong>Serveurs d'application</strong> : Node.js v18+ avec PM2</li>
                    <li><strong>Base de donn√©es</strong> : MongoDB Atlas + MySQL 8.0</li>
                    <li><strong>Cache</strong> : Redis 7.0 pour les sessions</li>
                    <li><strong>Load Balancer</strong> : nginx avec SSL/TLS</li>
                    <li><strong>Monitoring</strong> : Grafana + Prometheus</li>
                    <li><strong>Logs</strong> : ELK Stack (Elasticsearch, Logstash, Kibana)</li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            <h3>üìö Documentation Technique EcoRide</h3>
            <p>Diagrammes UML interactifs - Version 2025</p>
            <button class="export-btn" onclick="exportDiagrams()">üìÑ Exporter en PDF</button>
            <button class="export-btn" onclick="printDiagrams()">üñ®Ô∏è Imprimer</button>
            <div style="margin-top: 1rem;">
                <small>¬© 2025 EcoRide - Documentation g√©n√©r√©e automatiquement</small>
            </div>
        </div>
    </div>
    
    <script>
        // Configuration Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            sequence: {
                diagramMarginX: 50,
                diagramMarginY: 10,
                actorMargin: 50,
                width: 150,
                height: 65,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35,
                mirrorActors: true,
                bottomMarginAdj: 1,
                useMaxWidth: true
            },
            er: {
                diagramPadding: 20,
                layoutDirection: 'TB',
                minEntityWidth: 100,
                minEntityHeight: 75,
                entityPadding: 15,
                stroke: 'gray',
                fill: 'honeydew',
                fontSize: 12,
                useMaxWidth: true
            }
        });
        
        // Gestion des onglets
        function showTab(tabName) {
            // Masquer tous les contenus
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => {
                content.classList.remove('active');
            });
            
            // D√©sactiver tous les onglets
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Afficher le contenu s√©lectionn√©
            document.getElementById(tabName).classList.add('active');
            
            // Activer l'onglet s√©lectionn√©
            event.target.classList.add('active');
            
            // Re-rendre les diagrammes Mermaid si n√©cessaire
            setTimeout(() => {
                mermaid.init();
            }, 100);
        }
        
        // Fonction d'export PDF
        function exportDiagrams() {
            window.print();
        }
        
        // Fonction d'impression
        function printDiagrams() {
            window.print();
        }
        
        // Initialisation au chargement
        document.addEventListener('DOMContentLoaded', function() {
            // Animation d'entr√©e pour les cartes
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            // Observer les √©l√©ments anim√©s
            document.querySelectorAll('.diagram-container, .actor-card, .tech-item').forEach(element => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(20px)';
                element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(element);
            });
        });
        
        // Gestion responsive pour les onglets
        window.addEventListener('resize', function() {
            const navTabs = document.querySelector('.nav-tabs');
            if (window.innerWidth <= 768) {
                navTabs.style.overflowX = 'auto';
            } else {
                navTabs.style.overflowX = 'visible';
            }
        });
    </script>
</body>
</html>